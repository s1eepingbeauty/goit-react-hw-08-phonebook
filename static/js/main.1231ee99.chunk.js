(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={appBar:"styles_appBar__2V48s",navigation:"styles_navigation__2mhi_",navigationLinkActive:"styles_navigationLinkActive__2GWGK",authNav:"styles_authNav__3SbLd",authNavLink:"styles_authNavLink__OSW33",userMenu:"styles_userMenu__1LlKX"}},11:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return O})),n.d(e,"j",(function(){return f}));var c=n(2),r=Object(c.b)("contacts/fetchContactsRequest"),a=Object(c.b)("contacts/fetchContactsSuccess"),u=Object(c.b)("contacts/fetchContactsError"),o=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteContactRequest"),j=Object(c.b)("contacts/deleteContactSuccess"),O=Object(c.b)("contacts/deleteContactError"),f=Object(c.b)("contacts/filter")},23:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return b})),n.d(e,"a",(function(){return j}));var c=n(19),r=n.n(c),a=n(4);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var u=function(t){r.a.defaults.headers.common.Authorization="Bearer ".concat(t)},o=function(){r.a.defaults.headers.common.Authorization=""},i=function(t){return function(e){e(Object(a.k)()),r.a.post("/users/signup",t).then((function(t){var n=t.data;u(n.token),e(Object(a.l)(n))})).catch((function(t){return e(Object(a.j)(t.message))}))}},s=function(t){return function(e){e(Object(a.e)()),r.a.post("/users/login",t).then((function(t){var n=t.data;u(n.token),e(Object(a.f)(n))})).catch((function(t){return e(Object(a.d)(t.message))}))}},b=function(){return function(t){t(Object(a.h)()),r.a.post("/users/logout").then((function(){o(),t(Object(a.i)())})).catch((function(e){return t(Object(a.g)(e.message))}))}},j=function(){return function(t,e){var n=e().auth.token;n&&(u(n),t(Object(a.b)()),r.a.get("/users/current").then((function(e){var n=e.data;return t(Object(a.c)(n))})).catch((function(e){return t(Object(a.a)(e.message))})))}}},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return O})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return l}));var c=n(2),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),u=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/logInRequest"),i=Object(c.b)("auth/logInSuccess"),s=Object(c.b)("auth/logInError"),b=Object(c.b)("auth/logOutRequest"),j=Object(c.b)("auth/logOutSuccess"),O=Object(c.b)("auth/logOutError"),f=Object(c.b)("auth/getCurrentUserRequest"),d=Object(c.b)("auth/getCurrentUserSuccess"),l=Object(c.b)("auth/getCurrentUserError")},78:function(t,e,n){},79:function(t,e,n){"use strict";n.r(e);var c,r,a,u,o,i,s=n(24),b=n.n(s),j=n(8),O=n(16),f=n(45),d=n(27),l=n(2),h=n(46),g=n.n(h),p=n(17),v=n(47),m=n.n(v),x=n(3),k=n(7),y=n(11),_=Object(l.c)(!1,(c={},Object(x.a)(c,y.h,(function(){return!0})),Object(x.a)(c,y.i,(function(){return!1})),Object(x.a)(c,y.g,(function(){return!1})),Object(x.a)(c,y.b,(function(){return!0})),Object(x.a)(c,y.c,(function(){return!1})),Object(x.a)(c,y.a,(function(){return!1})),Object(x.a)(c,y.e,(function(){return!0})),Object(x.a)(c,y.f,(function(){return!1})),Object(x.a)(c,y.d,(function(){return!1})),c)),C=Object(l.c)([],(r={},Object(x.a)(r,y.i,(function(t,e){return e.payload})),Object(x.a)(r,y.c,(function(t,e){var n=e.payload;return[].concat(Object(d.a)(t),[n])})),Object(x.a)(r,y.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),N=Object(l.c)("",Object(x.a)({},y.j,(function(t,e){return e.payload}))),L=Object(k.c)({items:C,filter:N,loading:_}),S=n(4),A={name:null,email:null},E=Object(l.c)(A,(a={},Object(x.a)(a,S.l,(function(t,e){return e.payload.user})),Object(x.a)(a,S.f,(function(t,e){return e.payload.user})),Object(x.a)(a,S.i,(function(){return A})),Object(x.a)(a,S.c,(function(t,e){return e.payload})),a)),R=Object(l.c)(null,(u={},Object(x.a)(u,S.l,(function(t,e){return e.payload.token})),Object(x.a)(u,S.f,(function(t,e){return e.payload.token})),Object(x.a)(u,S.i,(function(){return null})),u)),T=function(t,e){return e.payload},q=Object(l.c)(null,(o={},Object(x.a)(o,S.j,T),Object(x.a)(o,S.d,T),Object(x.a)(o,S.g,T),Object(x.a)(o,S.a,T),o)),w=Object(l.c)(!1,(i={},Object(x.a)(i,S.l,(function(){return!0})),Object(x.a)(i,S.f,(function(){return!0})),Object(x.a)(i,S.c,(function(){return!0})),Object(x.a)(i,S.i,(function(){return!1})),Object(x.a)(i,S.j,(function(){return!1})),Object(x.a)(i,S.d,(function(){return!1})),Object(x.a)(i,S.a,(function(){return!1})),i)),z=Object(k.c)({user:E,isAuthenticated:w,token:R,error:q}),B=[].concat(Object(d.a)(Object(l.d)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})),[g.a]),I={key:"auth",storage:m.a,whitelist:["token"]},U=Object(l.a)({reducer:{auth:Object(p.g)(I,z),contacts:L},middleware:B,devTools:!1}),M=Object(p.h)(U),W=n(0),G=n(6),J=n(23),K=function(t){return t.auth.isAuthenticated},F=function(t){return t.auth.user.name},H=n(10),P=n.n(H),V=n(1),X=function(){var t=Object(j.c)(K);return Object(V.jsxs)("nav",{className:P.a.navigation,children:[Object(V.jsx)(O.b,{exact:!0,to:"/",className:P.a.navigationLink,activeClassName:P.a.navigationLinkActive,children:"Home"}),t&&Object(V.jsx)(O.b,{exact:!0,to:"/contacts",className:P.a.navigationLink,activeClassName:P.a.navigationLinkActive,children:"\xa0\xa0 Contacts"})]})},D=n.p+"static/media/default-avatar.10691648.png",Q=function(){var t=Object(j.c)(F),e=D,n=Object(j.b)();return Object(V.jsxs)("div",{className:P.a.userMenu,children:[Object(V.jsx)("img",{src:e,alt:"user avatar",width:"30"}),Object(V.jsxs)("span",{children:["Welcome, ",t,"!"]}),Object(V.jsx)("button",{type:"button",onClick:function(){return n(Object(J.c)())},children:"LogOut"})]})},Y=function(){return Object(V.jsxs)("div",{className:P.a.authNav,children:[Object(V.jsx)(O.b,{exact:!0,to:"/login",className:P.a.authNavLink,children:"Login"}),"\xa0\xa0",Object(V.jsx)(O.b,{exact:!0,to:"/register",className:P.a.authNavLink,children:"Registration"})]})},Z=function(){var t=Object(j.c)(K);return Object(V.jsxs)("header",{className:P.a.appBar,children:[Object(V.jsx)(X,{}),t?Object(V.jsx)(Q,{}):Object(V.jsx)(Y,{})]})},$=n(18),tt=n(28),et=function(t){var e=t.component,n=t.redirectTo,c=Object(tt.a)(t,["component","redirectTo"]),r=Object(j.c)(K);return Object(V.jsx)(G.b,Object($.a)(Object($.a)({},c),{},{render:function(t){return r?Object(V.jsx)(e,Object($.a)({},t)):Object(V.jsx)(G.a,{to:n})}}))},nt=function(t){var e=t.component,n=t.redirectTo,c=Object(tt.a)(t,["component","redirectTo"]),r=Object(j.c)(K);return Object(V.jsx)(G.b,Object($.a)(Object($.a)({},c),{},{render:function(t){return r&&c.restricted?Object(V.jsx)(G.a,{to:n}):Object(V.jsx)(e,Object($.a)({},t))}}))},ct=Object(W.lazy)((function(){return n.e(7).then(n.bind(null,107))})),rt=Object(W.lazy)((function(){return n.e(5).then(n.bind(null,104))})),at=Object(W.lazy)((function(){return n.e(6).then(n.bind(null,105))})),ut=Object(W.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,106))})),ot=function(){var t=Object(j.b)();return Object(W.useEffect)((function(){t(Object(J.a)())})),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Z,{}),Object(V.jsx)(W.Suspense,{fallback:Object(V.jsx)("p",{children:"Loading..."}),children:Object(V.jsxs)(G.d,{children:[Object(V.jsx)(nt,{exact:!0,path:"/",component:ct}),Object(V.jsx)(nt,{path:"/register",redirectTo:"/contacts",restricted:!0,component:at}),Object(V.jsx)(nt,{path:"/login",redirectTo:"/contacts",restricted:!0,component:rt}),Object(V.jsx)(et,{path:"/contacts",redirectTo:"/login",component:ut})]})})]})};n(78);b.a.render(Object(V.jsx)(j.a,{store:U,children:Object(V.jsx)(f.a,{loading:null,persistor:M,children:Object(V.jsx)(O.a,{children:Object(V.jsx)(ot,{})})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.1231ee99.chunk.js.map